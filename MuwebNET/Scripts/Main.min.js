(function(f){f.tools=f.tools||{version:"1.2.5"};f.tools.scrollable={conf:{activeClass:"active",circular:false,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:true,mousewheel:false,next:".nextdisabled",prev:".prevdisabled",speed:400,vertical:false,touch:true,wheelSpeed:0}};function h(a,b){var d=parseInt(a.css(b),10);if(d){return d}var c=a[0].currentStyle;return c&&c.width&&parseInt(c.width,10)}function i(c,b){var a=f(b);return a.length<2?a:c.parent().find(b)}var g;function j(u,c){var v=this,d=u.add(v),r=u.children(),e=0,x=c.vertical;if(!g){g=v}if(r.length>1){r=f(c.items,u)}f.extend(v,{getConf:function(){return c},getIndex:function(){return e},getSize:function(){return v.getItems().size()},getNaviButtons:function(){return t.add(s)},getRoot:function(){return u},getItemWrap:function(){return r},getItems:function(){return r.children(c.item).not("."+c.clonedClass)},move:function(k,l){return v.seekTo(e+k,l)},next:function(k){return v.move(1,k)},prev:function(k){return v.move(-1,k)},begin:function(k){return v.seekTo(0,k)},end:function(k){return v.seekTo(v.getSize()-1,k)},focus:function(){g=v;return v},addItem:function(k){k=f(k);if(!c.circular){r.append(k)}else{r.children("."+c.clonedClass+":last").before(k);r.children("."+c.clonedClass+":first").replaceWith(k.clone().addClass(c.clonedClass))}d.trigger("onAddItem",[k]);return v},seekTo:function(m,p,l){if(!m.jquery){m*=1}if(c.circular&&m===0&&e==-1&&p!==0){return v}if(!c.circular&&m<0||m>v.getSize()||m<-1){return v}var n=m;if(m.jquery){m=v.getItems().index(m)}else{n=v.getItems().eq(m)}var k=f.Event("onBeforeSeek");if(!l){d.trigger(k,[m,p]);if(k.isDefaultPrevented()||!n.length){return v}}var o=x?{top:-n.position().top}:{left:-n.position().left};e=m;g=v;if(p===undefined){p=c.speed}r.animate(o,p,c.easing,l||function(){d.trigger("onSeek",[m])});return v}});f.each(["onBeforeSeek","onSeek","onAddItem"],function(k,l){if(f.isFunction(c[l])){f(v).bind(l,c[l])}v[l]=function(m){if(m){f(v).bind(l,m)}return v}});if(c.circular){var a=v.getItems().slice(-1).clone().prependTo(r),b=v.getItems().eq(1).clone().appendTo(r);a.add(b).addClass(c.clonedClass);v.onBeforeSeek(function(k,l,m){if(k.isDefaultPrevented()){return}if(l==-1){v.seekTo(a,m,function(){v.end(0)});return k.preventDefault()}else{if(l==v.getSize()){v.seekTo(b,m,function(){v.begin(0)})}}});v.seekTo(0,0,function(){})}var t=i(u,c.prev).click(function(){v.prev()}),s=i(u,c.next).click(function(){v.next()});if(!c.circular&&v.getSize()>1){v.onBeforeSeek(function(k,l){setTimeout(function(){if(!k.isDefaultPrevented()){t.toggleClass(c.disabledClass,l<=0);s.toggleClass(c.disabledClass,l>=v.getSize()-1)}},1)});if(!c.initialIndex){t.addClass(c.disabledClass)}}if(c.mousewheel&&f.fn.mousewheel){u.mousewheel(function(l,k){if(c.mousewheel){v.move(k<0?1:-1,c.wheelSpeed||50);return false}})}if(c.touch){var w={};r[0].ontouchstart=function(k){var l=k.touches[0];w.x=l.clientX;w.y=l.clientY};r[0].ontouchmove=function(m){if(m.touches.length==1&&!r.is(":animated")){var n=m.touches[0],k=w.x-n.clientX,l=w.y-n.clientY;v[x&&l>0||!x&&k>0?"next":"prev"]();m.preventDefault()}}}if(c.keyboard){f(document).bind("keydown.scrollable",function(k){if(!c.keyboard||k.altKey||k.ctrlKey||f(k.target).is(":input")){return}if(c.keyboard!="static"&&g!=v){return}var l=k.keyCode;if(x&&(l==38||l==40)){v.move(l==38?-1:1);return k.preventDefault()}if(!x&&(l==37||l==39)){v.move(l==37?-1:1);return k.preventDefault()}})}if(c.initialIndex){v.seekTo(c.initialIndex,0,function(){})}}f.fn.scrollable=function(a){var b=this.data("scrollable");if(b){return b}a=f.extend({},f.tools.scrollable.conf,a);this.each(function(){b=new j(f(this),a);f(this).data("scrollable",b)});return a.api?b:this}})(jQuery);(function(c){var d=c.tools.scrollable;d.autoscroll={conf:{autoplay:true,interval:3000,autopause:true}};c.fn.autoscroll=function(a){if(typeof a=="number"){a={interval:a}}var b=c.extend({},d.autoscroll.conf,a),f;this.each(function(){var e=c(this).data("scrollable");if(e){f=e}var j,i=true;e.play=function(){if(j){return}i=false;j=setInterval(function(){e.next()},b.interval)};e.pause=function(){j=clearInterval(j)};e.stop=function(){e.pause();i=true};if(b.autopause){e.getRoot().add(e.getNaviButtons()).hover(e.pause,e.play)}if(b.autoplay){e.play()}});return b.api?f:this}})(jQuery);(function(c){var d=c.tools.scrollable;d.autoscroll={conf:{autoplay:true,interval:3000,autopause:true}};c.fn.autoscroll=function(a){if(typeof a=="number"){a={interval:a}}var b=c.extend({},d.autoscroll.conf,a),f;this.each(function(){var e=c(this).data("scrollable");if(e){f=e}var j,i=true;e.play=function(){if(j){return}i=false;j=setInterval(function(){e.next()},b.interval)};e.pause=function(){j=clearInterval(j)};e.stop=function(){e.pause();i=true};if(b.autopause){e.getRoot().add(e.getNaviButtons()).hover(e.pause,e.play)}if(b.autoplay){e.play()}});return b.api?f:this}})(jQuery);(function(d){var f=d.tools.scrollable;f.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,idPrefix:null,history:false}};function e(c,b){var a=d(b);return a.length<2?a:c.parent().find(b)}d.fn.navigator=function(a){if(typeof a=="string"){a={navi:a}}a=d.extend({},f.navigator.conf,a);var b;this.each(function(){var o=d(this).data("scrollable"),v=a.navi.jquery?a.navi:e(o.getRoot(),a.navi),p=o.getNaviButtons(),q=a.activeClass,u=a.history&&d.fn.history;if(o){b=o}o.getNaviButtons=function(){return p.add(v)};function r(h,i,g){o.seekTo(i);if(u){if(location.hash){location.hash=h.attr("href").replace("#","")}}else{return g.preventDefault()}}function t(){return v.find(a.naviItem||"> *")}function c(g){var h=d("<"+(a.naviItem||"a")+"/>").click(function(i){r(d(this),g,i)}).attr("href","#"+g);if(g===0){h.addClass(q)}if(a.indexed){h.text(g+1)}if(a.idPrefix){h.attr("id",a.idPrefix+g)}return h.appendTo(v)}if(t().length){t().each(function(g){d(this).click(function(h){r(d(this),g,h)})})}else{d.each(o.getItems(),function(g){c(g)})}o.onBeforeSeek(function(g,h){if(h==t().length){h=0}setTimeout(function(){if(!g.isDefaultPrevented()){var i=t().eq(h);if(!g.isDefaultPrevented()&&i.length){t().removeClass(q).eq(h).addClass(q)}}},1)});function s(h,i){var g=t().eq(i.replace("#",""));if(!g.length){g=t().filter("[href="+i+"]")}g.click()}o.onAddItem(function(g,h){h=c(o.getItems().index(h));if(u){h.history(s)}});if(u){t().history(s)}});return a.api?b:this}})(jQuery);var bestitem={el:"ShopItemList",prev:function(){var f=document.getElementById(this.el).getElementsByTagName("ul");var e=document.getElementById(this.el).getElementsByTagName("li");var d=f[f.length-1];this.item=d.parentNode.innerHTML;d.parentNode.innerHTML="";document.getElementById(this.el).removeChild(e[e.length-1]);document.getElementById(this.el).innerHTML="<li class='item_content'>"+this.item+"</li>"+document.getElementById(this.el).innerHTML},next:function(){var f=document.getElementById(this.el).getElementsByTagName("ul");var e=document.getElementById(this.el).getElementsByTagName("li");var d=f[0];this.item=d.parentNode.innerHTML;d.parentNode.innerHTML="";document.getElementById(this.el).removeChild(e[0]);document.getElementById(this.el).innerHTML=document.getElementById(this.el).innerHTML+"<li class='item_content'>"+this.item+"</li>"},motion:function(b){}};$(function(){if($(".gMainPromWrap .items .item").length>1){$(".gMainPromWrap").scrollable({circular:true}).autoscroll({interval:5000,prev:".prevdisable",next:".nexedisable"}).navigator({navi:".rollingIcon"})}if($(".gMainPromWrap .rollingIcon button").length>0){$(".gMainPromWrap .rollingIcon button:first-child").addClass("active")}});var ranking={tab:function(b){$(".gSubInfoBox article").hide();if(b=="castle"){$("#MainRankingtap1").show();this.get(b)}else{$("#MainRankingtap2").show();this.get(b)}},get:function(b){if(b=="castle"){$.ajax({url:"/main/RankingCS"}).done(function(a){$("#Ranktab1").html(a)})}else{$.ajax({url:"/main/RankingCryWolf"}).done(function(a){$("#Ranktab2").html(a)})}}};